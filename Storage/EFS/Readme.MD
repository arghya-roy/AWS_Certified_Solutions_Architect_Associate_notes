- The Amazon Elastic File System (EFS) is the only storage solution in the list that provides a file system interface. It also supports millions of files as requested.
- EFS uses NFS (Network File System) protocol and FsX uses SMB (Server Message Block) protocol.
- EFS and FsX both are file system not block.
- Managed NFS (network file system) that can be mounted on many EC2
- EFS works with EC2 instances in multi-AZ
- Highly available, scalable, expensive (3x gp2), pay per use 
- Use cases: content management, web serving, data sharing, Wordpress
- Uses NFSv4.1 protocol
- Uses security group to control access to EFS
- Compatible with Linux based AMI (not Windows)
- Encryption at rest using KMS
- POSIX file system (~Linux) that has a standard file API
- File system scales automatically, pay-per-use, no capacity planning

## EFS – Performance & Storage Classes

### EFS Scale
- 1000s of concurrent NFS clients, 10 GB+ /s throughput
- Grow to Petabyte-scale network file system, automatically

### Performance mode (set at EFS creation time)
- General purpose (default): latency-sensitive use cases (web server, CMS, etc…)
- Max I/O – higher latency, throughput, highly parallel (big data, media processing)

### Throughput mode
- Bursting (1 TB = 50MiB/s + burst of up to 100MiB/s)
- Provisioned: set your throughput regardless of storage size, ex: 1 GiB/s for 1 TB storag

## EFS Storage class -
### EFS Standard -
- Frequently accessed data requiring the highest durability and availability.
- copies in 3 or more than 3 AZ
### EFS Standard–Infrequent Access (IA) -
- Long lived, infrequently accessed data requiring the highest durability and availability.
- copies in 3 or more than 3 AZ
### EFS One Zone -
- Frequently accessed data that doesn’t require highest levels of durability and availability.
- copies in 1 AZ
### EFS One Zone-IA -
- Long lived, infrequently accessed data that doesn’t require highest levels of durability and availability.
- copies in 1 AZ
---
## A Solutions Architect needs to design a solution for providing a shared file system for company users in the AWS Cloud. The solution must be fault tolerant and should integrate with the company’s Microsoft Active Directory for access control. Which storage solution meets these requirements?
### ANS -
- Create a file system with Amazon FSx for Windows File Server and enable Multi-AZ. Join Amazon FSx to Active Directory.
- ** "Create an Amazon EFS file system and configure AWS Single Sign-On with Active Directory" is incorrect. You cannot configure AWS SSO for an EFS file system with Active Directory.**

## An application runs across a fleet of Amazon EC2 instances and uses a shared file system hosted on Amazon EFS. The file system is used for storing many files that are generated by the application. The files are only accessed for the first few days after creation but must be retained. How can a Solutions Architect optimize storage costs for the application?
### ANS -
- Configure a lifecycle policy to move the files to the EFS Infrequent Access (IA) storage class after 7 days
